# Mexem

**Mexem** is a command-line portfolio analyzer and trading platform tool. It not only generates CSV reports for your trades and portfolio data but also provides powerful analysis features to help you understand your performance. With an object-oriented design, Mexem computes asset-level and transaction-level metrics and supports exporting your analysis in multiple formats (CSV, JSON, and HTML).

## Features

- **OOP-Based Design:**  
  Built using an object-oriented approach for modularity and easy extension.
  
- **Multi-Section CSV Parsing:**  
  Reads CSV files generated by the Mexem trading platform and processes sections such as:
  - Trades
  - Realized & Unrealized Performance Summary
  - Deposits & Withdrawals

- **Comprehensive Metrics Calculation:**  
  Aggregates buy trades and computes key metrics:
  - Total Quantity
  - Average Purchase Price
  - Current Value
  - Absolute Profit/Loss
  - Percentage Return  
  Also processes realized and unrealized performance data.

- **Per Transaction Analysis:**  
  Provides detailed breakdowns of each trade, including individual cost, current value, profit/loss, and return percentage.

- **Export Options:**  
  Export your portfolio analysis to CSV, JSON, or HTML for further review or sharing.

- **ANSI Colored Output:**  
  Enjoy color-coded output in your terminal for enhanced visual feedback (with an option to disable colors).

## Requirements

- Python 3.6 or later  
- Standard Python libraries: `argparse`, `csv`, `json`, etc.

*Note: Mexem is part of the Mexem trading platform, which generates the required CSV files.*

## Installation

Clone the repository and install Mexem as a Python package:

```bash
git clone https://github.com/aikoschurmann/mexem.git
cd mexem
pip install .
```

### Installing Mexem as a System-Wide Command

To make `mexem` available as a global command, install it using `pip` with the `--user` flag (or `sudo` for system-wide installation):

```bash
pip install --user .
```

This will install `mexem` in your local bin directory (e.g., `~/.local/bin` on Linux/macOS). Ensure this directory is in your `PATH`:

```bash
echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc
```

For a system-wide installation, use:

```bash
sudo pip install .
```

This will make `mexem` available globally in `/usr/local/bin`.

## Usage

After installation, you can run `mexem` from anywhere in your terminal:

```bash
mexem -f portfolio.csv --detailed --export-json report.json
```

### Command-Line Options

```
usage: mexem [-h] -f CSV_FILE [-p CURRENT_PRICE] [--export-csv EXPORT_CSV] [--export-json EXPORT_JSON] [--export-html EXPORT_HTML] [--detailed] [--detailed-tx] [--no-color]

Mexem: Multi-Asset Portfolio Analyzer for Mexem Trading Platform.

options:
  -h, --help            show this help message and exit
  -f, --csv-file CSV_FILE
                        Path to the CSV file generated by Mexem trading platform.
  -p, --current-price CURRENT_PRICE
                        Current price for assets in the format SYMBOL=PRICE. Can be used multiple times.
  --export-csv EXPORT_CSV
                        Export the report to a CSV file.
  --export-json EXPORT_JSON
                        Export the report to a JSON file.
  --export-html EXPORT_HTML
                        Export the report to an HTML file.
  --detailed            Show detailed asset-level report output.
  --detailed-tx         Show detailed per transaction report output.
  --no-color            Disable colored output.
```

## Examples

Analyze a portfolio CSV file:

```bash
mexem -f my_portfolio.csv
```

Export a detailed report to JSON:

```bash
mexem -f my_portfolio.csv --detailed --export-json report.json
```

Analyze a portfolio and specify current asset prices:

```bash
mexem -f my_portfolio.csv -p AAPL=180 -p TSLA=250
```

Disable color output:

```bash
mexem -f my_portfolio.csv --no-color
```

## License

This project is licensed under the MIT License.

